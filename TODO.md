Make a gist that will handle as much of this as possible automatically
